[common]
;APIæ¨¡å¼ï¼Œè®¾ç½®ä¸ºtrueä»¥é˜²æ­¢åŠ è½½æœ¬åœ°è®¢é˜…æˆ–ç›´æ¥æä¾›æœ¬åœ°æ–‡ä»¶
api_mode=true

;ç”¨äºé€šè¿‡Webç•Œé¢æ‰§è¡Œå…³é”®æ“ä½œçš„è®¿é—®ä»¤ç‰Œ
;api_access_token=schroe

;é»˜è®¤URLï¼Œå½“è¯·æ±‚ä¸­æœªæä¾›URLæ—¶ä½¿ç”¨ï¼Œç”¨"|"åˆ†éš”å¤šä¸ªè®¢é˜…é“¾æ¥ï¼Œæ”¯æŒæœ¬åœ°æ–‡ä»¶/URL
;default_url=

;å°†è®¢é˜…é“¾æ¥æ’å…¥åˆ°è¯·æ±‚ä¸­ã€‚å¯ç”¨äºå‘æ‰€æœ‰å¯¼å‡ºçš„è®¢é˜…æ·»åŠ èŠ‚ç‚¹ã€‚
enable_insert=true
;è¦æ’å…¥åˆ°è®¢é˜…é“¾æ¥çš„URLï¼Œç”¨"|"åˆ†éš”å¤šä¸ªè®¢é˜…é“¾æ¥ï¼Œæ”¯æŒæœ¬åœ°æ–‡ä»¶/URL
insert_url=
;å°†æ’å…¥çš„URLå‰ç½®åˆ°è®¢é˜…é“¾æ¥ã€‚insert_urlä¸­çš„èŠ‚ç‚¹å°†é¦–å…ˆæ·»åŠ åˆ°ä½¿ç”¨éç»„ç‰¹å®šåŒ¹é…æ¨¡å¼çš„ç»„ä¸­ã€‚
prepend_insert_url=true

;æ’é™¤å¤‡æ³¨åŒ¹é…ä»¥ä¸‹æ¨¡å¼çš„èŠ‚ç‚¹ã€‚æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ã€‚
;exclude_remarks=(åˆ°æœŸ|å‰©ä½™æµé‡|æ—¶é—´|å®˜ç½‘|äº§å“|å¹³å°)
;exclude_remarks=(other rule)
exclude_remarks=(Direct|DIRECT|ç›´è¿)

;ä»…åŒ…å«å¤‡æ³¨åŒ¹é…ä»¥ä¸‹æ¨¡å¼çš„èŠ‚ç‚¹ã€‚æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ã€‚
;include_remarks=V3.*æ¸¯

;å¯ç”¨ç”¨äºè¿‡æ»¤èŠ‚ç‚¹çš„è„šæœ¬æ”¯æŒ
enable_filter=false
;ç”¨äºè¿‡æ»¤èŠ‚ç‚¹çš„è„šæœ¬ã€‚æ”¯æŒå†…è”è„šæœ¬å’Œè„šæœ¬è·¯å¾„ã€‚è„šæœ¬ä¸­éœ€å®šä¹‰ä¸€ä¸ªå¸¦1ä¸ªå‚æ•°ï¼ˆèŠ‚ç‚¹ï¼‰çš„"filter"å‡½æ•°ã€‚
;ç¤ºä¾‹ï¼šå†…è”è„šæœ¬ï¼šå°†å€¼è®¾ç½®ä¸ºè„šæœ¬å†…å®¹ã€‚å°†æ‰€æœ‰æ¢è¡Œæ›¿æ¢ä¸º"\n"ã€‚
;         è„šæœ¬è·¯å¾„ï¼šå°†å€¼è®¾ç½®ä¸º"path:/path/to/script.js"ã€‚
;filter_script=function filter(node) {\n    const info = JSON.parse(node.ProxyInfo);\n    if(info.EncryptMethod.includes('chacha20'))\n        return true;\n    return false;\n}

;å½“æœªæŒ‡å®šæ—¶ï¼Œå°†å¤–éƒ¨é…ç½®æ–‡ä»¶è®¾ç½®ä¸ºé»˜è®¤ï¼Œæ”¯æŒæœ¬åœ°æ–‡ä»¶/URL
;default_external_config=config/example_external_config.ini

;å¤–éƒ¨é…ç½®ä¸­'rule_base'é€‰é¡¹çš„æ–‡ä»¶ä½œç”¨åŸŸé™åˆ¶ã€‚
base_path=base

;ç”Ÿæˆå™¨ä½¿ç”¨çš„Clashé…ç½®åŸºç¡€ï¼Œæ”¯æŒæœ¬åœ°æ–‡ä»¶/URL
clash_rule_base=base/all_base.tpl

;ç”Ÿæˆå™¨ä½¿ç”¨çš„Surgeé…ç½®åŸºç¡€ï¼Œæ”¯æŒæœ¬åœ°æ–‡ä»¶/URL
surge_rule_base=base/all_base.tpl

;ç”Ÿæˆå™¨ä½¿ç”¨çš„Surfboardé…ç½®åŸºç¡€ï¼Œæ”¯æŒæœ¬åœ°æ–‡ä»¶/URL
surfboard_rule_base=base/all_base.tpl

;ç”Ÿæˆå™¨ä½¿ç”¨çš„Mellowé…ç½®åŸºç¡€ï¼Œæ”¯æŒæœ¬åœ°æ–‡ä»¶/URL
mellow_rule_base=base/all_base.tpl

;ç”Ÿæˆå™¨ä½¿ç”¨çš„Quantumulté…ç½®åŸºç¡€ï¼Œæ”¯æŒæœ¬åœ°æ–‡ä»¶/URL
quan_rule_base=base/all_base.tpl

;ç”Ÿæˆå™¨ä½¿ç”¨çš„Quantumult Xé…ç½®åŸºç¡€ï¼Œæ”¯æŒæœ¬åœ°æ–‡ä»¶/URL
quanx_rule_base=base/all_base.tpl

;ç”Ÿæˆå™¨ä½¿ç”¨çš„Looné…ç½®åŸºç¡€ï¼Œæ”¯æŒæœ¬åœ°æ–‡ä»¶/URL
loon_rule_base=base/all_base.tpl

;ç”Ÿæˆå™¨ä½¿ç”¨çš„Shadowsocks Androidé…ç½®åŸºç¡€ï¼Œæ”¯æŒæœ¬åœ°æ–‡ä»¶/URL
sssub_rule_base=base/all_base.tpl

;ç”Ÿæˆå™¨ä½¿ç”¨çš„sing-boxé…ç½®åŸºç¡€ï¼Œæ”¯æŒæœ¬åœ°æ–‡ä»¶/URL
singbox_rule_base=base/all_base.tpl

;ç”¨äºä¸‹è½½é…ç½®ã€è§„åˆ™é›†æˆ–è®¢é˜…çš„ä»£ç†ï¼Œè®¾ç½®ä¸ºNONEæˆ–ç©ºä»¥ç¦ç”¨ï¼Œè®¾ç½®ä¸ºSYSTEMä»¥ä½¿ç”¨ç³»ç»Ÿä»£ç†ã€‚
;æ¥å—cURLæ”¯æŒçš„ä»£ç†ï¼ˆhttp:// https:// socks4a:// socks5://ï¼‰
;é¢å¤–æ”¯æŒCORSä»£ç†ï¼ˆhttps://github.com/Rob--W/cors-anywhere https://github.com/Zibri/cloudflare-cors-anywhere ç­‰ï¼‰ï¼Œåœ¨åœ°å€å‰ç¼€"cors:"ä»¥è¯†åˆ«ä¸ºCORSä»£ç†ã€‚
;ç¤ºä¾‹ï¼š  http://127.0.0.1:80  socks5://example.com:1080  cors:https://cors-anywhere.herokuapp.com/
proxy_config=SYSTEM
proxy_ruleset=SYSTEM
proxy_subscription=NONE

;å‘èŠ‚ç‚¹å¤‡æ³¨è¿½åŠ ä»£ç†ç±»å‹å­—ç¬¦ä¸²ï¼ˆ[SS] [SSR] [VMess]ï¼‰ã€‚
append_proxy_type=false

;è¯·æ±‚/subæ—¶ï¼Œé¦–å…ˆé‡æ–°åŠ è½½æ­¤é…ç½®æ–‡ä»¶ã€‚
reload_conf_on_request=false

[userinfo]
;ä»èŠ‚ç‚¹æå–æµé‡æ•°æ®çš„è§„åˆ™
;æ ¼å¼ï¼šfull_match_regex|new_format_regex
;å…¶ä¸­new_format_regexåº”ç±»ä¼¼"total=$1&left=$2&used=$3"
stream_rule=^å‰©ä½™æµé‡ï¼š(.*?)\|æ€»æµé‡ï¼š(.*)$|total=$2&left=$1
stream_rule=^å‰©ä½™æµé‡ï¼š(.*?) (.*)$|total=$1&left=$2
stream_rule=^Bandwidth: (.*?)/(.*)$|used=$1&total=$2
stream_rule=^\[.*?\]å‰©ä½™(.*?)@(?:.*)$|total=$1
stream_rule=^.*?æµé‡:(.*?) å‰©:(?:.*)$|total=$1

;ä»èŠ‚ç‚¹æå–åˆ°æœŸæ—¶é—´çš„è§„åˆ™
;æ ¼å¼ï¼šfull_match_regex|new_format_regex
;å…¶ä¸­new_format_regexåº”éµå¾ªæ­¤ç¤ºä¾‹ï¼šyyyy:mm:dd:hh:mm:ss
time_rule=^è¿‡æœŸæ—¶é—´ï¼š(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)$|$1:$2:$3:$4:$5:$6
time_rule=^åˆ°æœŸæ—¶é—´(:|ï¼š)(\d+)-(\d+)-(\d+)$|$1:$2:$3:0:0:0
time_rule=^Smart Access expire: (\d+)/(\d+)/(\d+)$|$1:$2:$3:0:0:0
time_rule=^.*?æµé‡:(?:.*?) å‰©:(.*)$|left=$1d

[node_pref]
;udp_flag=false
;tcp_fast_open_flag=false
;skip_cert_verify_flag=false
;tls13_flag=false

sort_flag=false
;ç”¨äºæ’åºèŠ‚ç‚¹çš„è„šæœ¬ã€‚è„šæœ¬ä¸­éœ€å®šä¹‰ä¸€ä¸ªå¸¦2ä¸ªå‚æ•°ï¼ˆè¦æ¯”è¾ƒçš„2ä¸ªèŠ‚ç‚¹ï¼‰çš„"compare"å‡½æ•°ã€‚æ”¯æŒå†…è”è„šæœ¬å’Œè„šæœ¬è·¯å¾„ã€‚
;ç¤ºä¾‹å‚è§[common]éƒ¨åˆ†çš„filter_scripté€‰é¡¹ã€‚
;sort_script=function compare(node_a, node_b) {\n    const info_a = JSON.parse(node_a.ProxyInfo);\n    const info_b = JSON.parse(node_b.ProxyInfo);\n    return info_a.Remark > info_b.Remark;\n}

filter_deprecated_nodes=false
append_sub_userinfo=true
clash_use_new_field_name=true

;Clashè®¢é˜…ä¸­proxieså’Œproxy groupséƒ¨åˆ†çš„ç”Ÿæˆæ ·å¼ã€‚
;æ”¯æŒæ ·å¼ï¼šblock, flow, compact
;Block: - name: name1    Flow: - {name: name1, key: value}    Compact: [{name: name1, key: value},{name: name2, key: value}]
;         key: value           - {name: name2, key: value}
;       - name: name2
;         key: value
clash_proxies_style=flow
clash_proxy_groups_style=block

;å‘sing-boxè§„åˆ™æ·»åŠ Clashæ¨¡å¼ï¼Œå¹¶åœ¨outboundsæœ«å°¾æ·»åŠ ä¸€ä¸ªGLOBALç»„
singbox_add_clash_modes=true

;é‡å‘½ååŒ¹é…ä»¥ä¸‹æ¨¡å¼çš„å¤‡æ³¨ã€‚æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ã€‚
;æ ¼å¼ï¼šSearch_Pattern@Replace_Pattern
;rename_node=IPLC@ä¸“çº¿
;rename_node=RELAY@ä¸­è½¬
;rename_node=BGP-@
;rename_node=!!script:function rename(node) {\n  const info = JSON.parse(node.ProxyInfo);\n  const geoinfo = JSON.parse(geoip(info.Hostname));\n  if(geoinfo.country_code == "CN")\n    return "CN " + node.Remark;\n}
;rename_node=!!script:path:/path/to/script.js

rename_node=!!import:snippets/rename_node.txt

[managed_config]
;å‘Surgeé…ç½®è¿½åŠ '#!MANAGED-CONFIG'ä¿¡æ¯
write_managed_config=false

;MANAGED-CONFIGä¿¡æ¯çš„åœ°å€å‰ç¼€ï¼Œä¸åŒ…å«å°¾éš"/"ã€‚
;æ­¤åœ°å€è¿˜å°†ç”¨äºç”Ÿæˆ/getrulesetã€/qx-rewriteã€/qx-scriptåœ°å€ã€‚
;managed_config_prefix=http://127.0.0.1:25500

;æ‰˜ç®¡é…ç½®æ›´æ–°é—´éš”ï¼ˆç§’ï¼‰ï¼Œå†³å®šé…ç½®æ›´æ–°é¢‘ç‡ã€‚
config_update_interval=86400

;å¦‚æœconfig_update_strictè®¾ç½®ä¸ºtrueï¼ŒSurgeå°†åœ¨é—´éš”åè¦æ±‚å¼ºåˆ¶æ›´æ–°ã€‚
config_update_strict=false

;å†™å…¥Quantumult XæŸäº›ç‰ˆæœ¬é‡å†™è„šæœ¬çš„è®¾å¤‡ID
quanx_device_id=

[surge_external_proxy]
;surge_ssr_path=/usr/bin/ssr-local
resolve_hostname=true

[emojis]
add_emoji=true
remove_old_emoji=false

;æ·»åŠ è¡¨æƒ…ç¬¦å·çš„è§„åˆ™ã€‚æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ã€‚
;æ ¼å¼ï¼šRemark_Search_Pattern,emoji

;rule=(æµé‡|æ—¶é—´|åº”æ€¥|è¿‡æœŸ|Bandwidth|expire),ğŸ³ï¸â€ğŸŒˆ
;rule=AC,ğŸ‡¦ğŸ‡¨
;rule=!!script:function getEmoji(node) {\n  const info = JSON.parse(node.ProxyInfo);\n  const geoinfo = JSON.parse(geoip(info.Hostname));\n  if(geoinfo.country_code == "CN")\n    return "ğŸ³ï¸â€ğŸŒˆ";\n}
;rule=!!script:path:/path/to/script/.js

rule=!!import:snippets/emoji.txt

[rulesets]
;å¯ç”¨ä½¿ç”¨è§„åˆ™é›†ç”Ÿæˆè§„åˆ™
enabled=false

;è¦†ç›–rule_baseä¸­çš„ç°æœ‰è§„åˆ™
overwrite_original_rules=true

;è¯·æ±‚æ—¶æ‰§è¡Œè§„åˆ™é›†æ›´æ–°
update_ruleset_on_request=true

;è§„åˆ™é›†åœ°å€ï¼Œæ”¯æŒæœ¬åœ°æ–‡ä»¶/URL
;æ ¼å¼ï¼šç»„å,[type:]URL[,interval]
;        ç»„å,[]Rule
;å…¶ä¸­"type"æ”¯æŒä»¥ä¸‹å€¼ï¼šsurge, quanx, clash-domain, clash-ipcidr, clash-classic
;å¦‚æœçœç•¥ï¼Œtypeé»˜è®¤ä¸ºsurge

;ruleset=DIRECT,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Unbreak.list,86400
;ruleset=ğŸ¯ å…¨çƒç›´è¿,rules/LocalAreaNetwork.list
;ruleset=DIRECT,surge:rules/LocalAreaNetwork.list
;ruleset=Advertising,quanx:https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Guard/Advertising.list,86400
;ruleset=Domestic Services,clash-domain:https://ruleset.dev/clash_domestic_services_domains,86400
;ruleset=Domestic Services,clash-ipcidr:https://ruleset.dev/clash_domestic_services_ips,86400
;ruleset=DIRECT,clash-classic:https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/China.yaml,86400
;ruleset=ğŸ¯ å…¨çƒç›´è¿,[]GEOIP,CN
;ruleset=ğŸŸ æ¼ç½‘ä¹‹é±¼,[]FINAL

ruleset=!!import:snippets/rulesets.txt

[proxy_groups]
;ä½¿ç”¨ä»¥ä¸‹æ¨¡å¼ç”ŸæˆClashä»£ç†ç»„ã€‚èŠ‚ç‚¹è¿‡æ»¤è§„åˆ™æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ã€‚
;æ ¼å¼ï¼šGroup_Name`select`Rule_1`Rule_2`...
;        Group_Name`url-test|fallback|load-balance`Rule_1`Rule_2`...`test_url`interval[,timeout][,tolerance]
;ä»¥"[]"å‰ç¼€çš„Ruleå°†ç›´æ¥æ·»åŠ ã€‚

;custom_proxy_group=Proxy`select`.*`[]AUTO`[]DIRECT`.*
;custom_proxy_group=UrlTest`url-test`.*`http://www.gstatic.com/generate_204`300,5,100
;custom_proxy_group=FallBack`fallback`.*`http://www.gstatic.com/generate_204`300,5
;custom_proxy_group=LoadBalance`load-balance`.*`http://www.gstatic.com/generate_204`300,,100
;custom_proxy_group=SSID`ssid`default_group`celluar=group0,ssid1=group1,ssid2=group2

;custom_proxy_group=g1`select`!!GROUPID=0
;custom_proxy_group=g2`select`!!GROUPID=1
;custom_proxy_group=v2ray`select`!!GROUP=V2RayProvider

;custom_proxy_group=g1hk`select`!!GROUPID=0!!(HGC|HKBN|PCCW|HKT|hk|æ¸¯)
;custom_proxy_group=sstw`select`!!GROUP=V2RayProvider!!(æ·±å°|å½°åŒ–|æ–°åŒ—|å°|tw)
;custom_proxy_group=provider`select`!!PROVIDER=prov1,prov2,prov3`fallback_nodes

;ä¹Ÿæ”¯æŒä½¿ç”¨è„šæœ¬è¿‡æ»¤èŠ‚ç‚¹ã€‚è„šæœ¬ä¸­éœ€å®šä¹‰ä¸€ä¸ªå¸¦1ä¸ªå‚æ•°ï¼ˆæ‰€æœ‰å¯ç”¨èŠ‚ç‚¹æ•°ç»„ï¼‰çš„"filter"å‡½æ•°ã€‚
;custom_proxy_group=script`select`script:/path/to/script.js

;for forcerule.yml
;custom_proxy_group=!!import:snippets/groups_forcerule.txt

;for Surge rulesets
custom_proxy_group=!!import:snippets/groups.txt

[template]
;æ¨¡æ¿ä¸­'include'è¯­å¥çš„æ–‡ä»¶ä½œç”¨åŸŸé™åˆ¶ã€‚
template_path=

;ä»¥ä¸‹è®¾ç½®å°†æ·»åŠ åˆ°æ¨¡æ¿å˜é‡çš„"global"ä½œç”¨åŸŸ
;æ¨¡æ¿ä¸­å¯é€šè¿‡'global.clash.http_port'è®¿é—®'clash.http_port'çš„å€¼ã€‚
clash.http_port=7890
clash.socks_port=7891
clash.allow_lan=true
clash.log_level=info
clash.external_controller=127.0.0.1:9090
singbox.allow_lan=true
singbox.mixed_port=2080

[aliases]
;è®¿é—®æ¥å£çš„åˆ«åã€‚å¯ç”¨äºç¼©çŸ­URIã€‚
;è®¿é—®åˆ«ååç§°æ—¶ä¼ é€’çš„æ‰€æœ‰å‚æ•°å°†è¿½åŠ åˆ°åˆ«åç›®æ ‡çš„å‚æ•°ä¸­ã€‚
;æ ¼å¼ï¼šuri=target
/v=/version
/clash=/sub?target=clash
/clashr=/sub?target=clashr
/surge=/sub?target=surge
/quan=/sub?target=quan
/quanx=/sub?target=quanx
/mellow=/sub?target=mellow
/surfboard=/sub?target=surfboard
/loon=/sub?target=loon
/singbox=/sub?target=singbox
/ss=/sub?target=ss
/ssd=/sub?target=ssd
/sssub=/sub?target=sssub
/ssr=/sub?target=ssr
/v2ray=/sub?target=v2ray
/trojan=/sub?target=trojan

[tasks]
;æœåŠ¡å™¨è¿è¡ŒæœŸé—´å®šæœŸæ‰§è¡Œçš„ä»»åŠ¡ã€‚
;æ ¼å¼ï¼šName`Cron_Expression`JS_Path`Timeout_in_seconds
;task=tick`0/10 * * * * ?`tick.js`3

[server]
;WebæœåŠ¡å™¨ç»‘å®šçš„åœ°å€
listen=0.0.0.0

;WebæœåŠ¡å™¨ç»‘å®šçš„ç«¯å£
port=25500

;WebæœåŠ¡å™¨çš„æ ¹æ–‡ä»¶å¤¹ï¼Œä¿æŒä¸ºç©ºä»¥ç¦ç”¨
serve_file_root=

[advanced]
log_level=info
print_debug_info=false
max_pending_connections=10240
max_concurrent_threads=2
max_allowed_rulesets=0
max_allowed_rules=0
max_allowed_download_size=0
enable_cache=false
cache_subscription=60
cache_config=300
cache_ruleset=21600
script_clean_context=true
async_fetch_ruleset=false
skip_failed_links=false